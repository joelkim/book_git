<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.18">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>인덱스 파일 – Git Book</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js" type="module"></script>
<script src="site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-f98ea211b99fe8356d6469e598480a52.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-7a09c4b3691b68a4bbc092297c6129d9.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-QGSN4T24D9"></script>

<script type="text/javascript">

window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-QGSN4T24D9', { 'anonymize_ip': true});
</script>
<script type="text/javascript">
// !로 시작하는 파이썬 코드에서 ! 삭제
document.addEventListener('DOMContentLoaded', () => {
  const allOps = document.querySelectorAll(
    'div.cell div.sourceCode.cell-code pre.sourceCode.python code span.op:first-of-type'
  );
  allOps.forEach(el => {
    if (el.innerHTML === '!') {
      el.innerHTML = '';
      const dollarSpan = document.createElement('span');
      dollarSpan.classList.add('bash_prompt');
      el.parentNode.parentNode.insertBefore(dollarSpan, el.parentNode);
    }
  });
  // || true 로 끝나는 bash 코드에서 || true 삭제
  const allOrTrue = document.querySelectorAll(
    'div.cell div.sourceCode.cell-code pre.sourceCode.bash code span:last-of-type'
  );
  allOrTrue.forEach(span => {
    let text = span.textContent;
    if (text.endsWith('|| true')) {
      span.textContent = text.slice(0, -8);
    }
  });
});
</script>


<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-sidebar docked quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./indexfile.html">관리자용 고급</a></li><li class="breadcrumb-item"><a href="./indexfile.html">인덱스 파일</a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-full">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation docked overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
      <a href="./index.html" class="sidebar-logo-link">
      </a>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Git Book</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true">
 <span class="menu-text">사용자용 기초</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./git_command.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">git 명령</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./repo.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">레포지토리</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./config.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">설정</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./basic.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">기본 동작</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./internal.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">내부 구조</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./commit_analysis.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">커밋 분석</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./branch.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">브랜치</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./checkout.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">체크아웃</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./reset.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">리셋</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stash.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">임시 저장</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./merge.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">머지</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./conflict.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">충돌</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./remote_diverged.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">원격 발산 상태</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ignore.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">무시</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cowork.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">공동 작업</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true">
 <span class="menu-text">관리자용 고급</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./indexfile.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">인덱스 파일</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true">
 <span class="menu-text">부록</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./reference.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">참고문헌</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#참고-문헌" id="toc-참고-문헌" class="nav-link active" data-scroll-target="#참고-문헌">참고 문헌</a></li>
  <li><a href="#git-기본-명령의-내부-구조" id="toc-git-기본-명령의-내부-구조" class="nav-link" data-scroll-target="#git-기본-명령의-내부-구조">git 기본 명령의 내부 구조</a></li>
  <li><a href="#실습-1-레포지토리-준비" id="toc-실습-1-레포지토리-준비" class="nav-link" data-scroll-target="#실습-1-레포지토리-준비">실습 1: 레포지토리 준비</a></li>
  <li><a href="#hash-object-명령" id="toc-hash-object-명령" class="nav-link" data-scroll-target="#hash-object-명령">hash-object 명령</a>
  <ul>
  <li><a href="#hash-object-명령의-옵션" id="toc-hash-object-명령의-옵션" class="nav-link" data-scroll-target="#hash-object-명령의-옵션">hash-object 명령의 옵션</a></li>
  </ul></li>
  <li><a href="#실습-2-파일의-블롭-객체-생성" id="toc-실습-2-파일의-블롭-객체-생성" class="nav-link" data-scroll-target="#실습-2-파일의-블롭-객체-생성">실습 2: 파일의 블롭 객체 생성</a></li>
  <li><a href="#인덱스-파일" id="toc-인덱스-파일" class="nav-link" data-scroll-target="#인덱스-파일">인덱스 파일</a></li>
  <li><a href="#update-index-명령" id="toc-update-index-명령" class="nav-link" data-scroll-target="#update-index-명령">update-index 명령</a>
  <ul>
  <li><a href="#update-index-명령의-옵션" id="toc-update-index-명령의-옵션" class="nav-link" data-scroll-target="#update-index-명령의-옵션">update-index 명령의 옵션</a></li>
  </ul></li>
  <li><a href="#실습-3-인덱스-파일-생성" id="toc-실습-3-인덱스-파일-생성" class="nav-link" data-scroll-target="#실습-3-인덱스-파일-생성">실습 3: 인덱스 파일 생성</a></li>
  <li><a href="#인덱스-파일의-구조" id="toc-인덱스-파일의-구조" class="nav-link" data-scroll-target="#인덱스-파일의-구조">인덱스 파일의 구조</a>
  <ul>
  <li><a href="#ls-files-명령" id="toc-ls-files-명령" class="nav-link" data-scroll-target="#ls-files-명령">ls-files 명령</a></li>
  <li><a href="#ls-files-명령의-옵션" id="toc-ls-files-명령의-옵션" class="nav-link" data-scroll-target="#ls-files-명령의-옵션">ls-files 명령의 옵션</a></li>
  </ul></li>
  <li><a href="#실습-4-파일-목록-출력" id="toc-실습-4-파일-목록-출력" class="nav-link" data-scroll-target="#실습-4-파일-목록-출력">실습 4: 파일 목록 출력</a></li>
  <li><a href="#실습-5-다른-파일을-스테이지에-추가" id="toc-실습-5-다른-파일을-스테이지에-추가" class="nav-link" data-scroll-target="#실습-5-다른-파일을-스테이지에-추가">실습 5: 다른 파일을 스테이지에 추가</a></li>
  <li><a href="#write-tree-명령" id="toc-write-tree-명령" class="nav-link" data-scroll-target="#write-tree-명령">write-tree 명령</a></li>
  <li><a href="#실습-6-트리-객체-생성" id="toc-실습-6-트리-객체-생성" class="nav-link" data-scroll-target="#실습-6-트리-객체-생성">실습 6: 트리 객체 생성</a></li>
  <li><a href="#status-명령" id="toc-status-명령" class="nav-link" data-scroll-target="#status-명령">status 명령</a></li>
  <li><a href="#실습-7-상태-조회" id="toc-실습-7-상태-조회" class="nav-link" data-scroll-target="#실습-7-상태-조회">실습 7: 상태 조회</a></li>
  <li><a href="#commit-tree-명령" id="toc-commit-tree-명령" class="nav-link" data-scroll-target="#commit-tree-명령">commit-tree 명령</a></li>
  <li><a href="#실습-8-커밋-객체-생성" id="toc-실습-8-커밋-객체-생성" class="nav-link" data-scroll-target="#실습-8-커밋-객체-생성">실습 8: 커밋 객체 생성</a></li>
  <li><a href="#update-ref-명령" id="toc-update-ref-명령" class="nav-link" data-scroll-target="#update-ref-명령">update-ref 명령</a></li>
  <li><a href="#실습-9-브랜치-참조-파일-생성" id="toc-실습-9-브랜치-참조-파일-생성" class="nav-link" data-scroll-target="#실습-9-브랜치-참조-파일-생성">실습 9: 브랜치 참조 파일 생성</a></li>
  <li><a href="#실습-10-add-commit-명령-사용" id="toc-실습-10-add-commit-명령-사용" class="nav-link" data-scroll-target="#실습-10-add-commit-명령-사용">실습 10: add, commit 명령 사용</a></li>
  <li><a href="#인덱스-락-파일" id="toc-인덱스-락-파일" class="nav-link" data-scroll-target="#인덱스-락-파일">인덱스 락 파일</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content column-body" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./indexfile.html">관리자용 고급</a></li><li class="breadcrumb-item"><a href="./indexfile.html">인덱스 파일</a></li></ol></nav>
<div class="quarto-title">
<h1 class="title">인덱스 파일</h1>
</div>



<div class="quarto-title-meta column-body">

    
  
    
  </div>
  


</header>


<section id="참고-문헌" class="level2 hidden">
<h2 class="anchored" data-anchor-id="참고-문헌">참고 문헌</h2>
<ul>
<li>Pro Git, Git Internels, Git Objects
<ul>
<li>chrome-extension://oemmndcbldboiebfnladdacbdfmadadm/file:///Users/joelkim/Work/study/study_cs/book/DevOps/Progit/progit.pdf#%5B%7B%22num%22%3A2221%2C%22gen%22%3A0%7D%2C%7B%22name%22%3A%22XYZ%22%7D%2C0%2C510.57%2Cnull%5D</li>
</ul></li>
<li>Mastering Git, Ch.10 Keeping History Clean, An introduction to Git internals
<ul>
<li>chrome-extension://oemmndcbldboiebfnladdacbdfmadadm/file:///Users/joelkim/Work/study/study_cs/book/DevOps/Narebski/2024%20-%20Narebski%20-%20Mastering%20Git,%202nd%20Edition.pdf#p263</li>
</ul></li>
<li>Building Git, Ch.6 The index
<ul>
<li>chrome-extension://oemmndcbldboiebfnladdacbdfmadadm/file:///Users/joelkim/Work/study/study_cs/book/DevOps/Coglan/2021%20-%20Coglan%20-%20Buliding%20Git.pdf#%5B%7B%22num%22%3A524%2C%22gen%22%3A0%7D%2C%7B%22name%22%3A%22XYZ%22%7D%2C72%2C769.889%2Cnull%5D</li>
</ul></li>
</ul>
</section>
<section id="git-기본-명령의-내부-구조" class="level2">
<h2 class="anchored" data-anchor-id="git-기본-명령의-내부-구조">git 기본 명령의 내부 구조</h2>
<ul>
<li>add, commit 등의 명령으로 파일이 등록되는 과정은 내부적으로 다음과 같은 고급 명령을 사용한다.</li>
<li>이 중심에는 인덱스 파일이 있다.</li>
</ul>
<table class="caption-top table">
<colgroup>
<col style="width: 5%">
<col style="width: 11%">
<col style="width: 16%">
<col style="width: 66%">
</colgroup>
<thead>
<tr class="header">
<th>순번</th>
<th>git 명령</th>
<th>내부 동작</th>
<th>설명</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>git add</td>
<td>블롭 객체 생성</td>
<td><code>git hash-object</code> 명령으로 블롭 객체 생성</td>
</tr>
<tr class="even">
<td>2</td>
<td>-</td>
<td>인덱스 등록</td>
<td><code>git update-index</code> 명령으로 인덱스 파일에 스테이징 정보 등록</td>
</tr>
<tr class="odd">
<td>3</td>
<td>git commit</td>
<td>트리 객체 생성</td>
<td><code>git write-tree</code> 명령으로 인덱스 파일정보를 이용하여 트리 객체 생성</td>
</tr>
<tr class="even">
<td>4</td>
<td>-</td>
<td>커밋 객체 생성</td>
<td><code>git commit-tree</code> 명령으로 커밋 객체 생성</td>
</tr>
<tr class="odd">
<td>5</td>
<td>-</td>
<td>브랜치 갱신</td>
<td><code>git update-ref</code> 명령으로 브랜치 정보 갱신</td>
</tr>
</tbody>
</table>
</section>
<section id="실습-1-레포지토리-준비" class="level2">
<h2 class="anchored" data-anchor-id="실습-1-레포지토리-준비">실습 1: 레포지토리 준비</h2>
<ul>
<li>레포지토리 생성</li>
</ul>
<div id="4a13c83a" class="cell" data-quarto-private-1="{&quot;key&quot;:&quot;vscode&quot;,&quot;value&quot;:{&quot;languageId&quot;:&quot;shellscript&quot;}}" data-execution_count="2">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb1"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="bu">cd</span> <span class="va">$HOME</span>/lab</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span> <span class="at">-rf</span> test_internal_02</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> init test_internal_02</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="bu">cd</span> test_internal_02</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<p>Initialized empty Git repository in ~/lab/test_internal_02/.git/</p>
</div>
</div>
<div id="2473fbdc" class="cell" data-quarto-private-1="{&quot;key&quot;:&quot;vscode&quot;,&quot;value&quot;:{&quot;languageId&quot;:&quot;shellscript&quot;}}" data-execution_count="3">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb2"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="ex">tree</span> .git/objects</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>.git/objects
├── info
└── pack

3 directories, 0 files</code></pre>
</div>
</div>
</section>
<section id="hash-object-명령" class="level2">
<h2 class="anchored" data-anchor-id="hash-object-명령">hash-object 명령</h2>
<ul>
<li>hash-object 명령은 입력된 데이터를 이용하여 해시값을 계산하고 객체를 생성한다.</li>
<li><code>-w</code> 옵션을 주지 않으면 단순히 해시값만 계산한다.</li>
</ul>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb4"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> hash-object <span class="pp">[</span><span class="ss">옵션</span><span class="pp">]</span> 입력파일 경로</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<section id="hash-object-명령의-옵션" class="level3">
<h3 class="anchored" data-anchor-id="hash-object-명령의-옵션">hash-object 명령의 옵션</h3>
<ul>
<li><code>-t</code> &lt;유형&gt;
<ul>
<li>생성할 객체 유형을 지정</li>
<li>기본값: “blob”</li>
<li>가능한 값: “commit”, “tree”, “blob”, “tag”</li>
</ul></li>
</ul>
</section>
</section>
<section id="실습-2-파일의-블롭-객체-생성" class="level2">
<h2 class="anchored" data-anchor-id="실습-2-파일의-블롭-객체-생성">실습 2: 파일의 블롭 객체 생성</h2>
<div id="989ad082" class="cell" data-quarto-private-1="{&quot;key&quot;:&quot;vscode&quot;,&quot;value&quot;:{&quot;languageId&quot;:&quot;shellscript&quot;}}" data-execution_count="4">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb5"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="bu">echo</span> <span class="st">"file1 line1"</span> <span class="op">&gt;</span> file1.txt</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div id="3b3984d4" class="cell" data-quarto-private-1="{&quot;key&quot;:&quot;vscode&quot;,&quot;value&quot;:{&quot;languageId&quot;:&quot;shellscript&quot;}}" data-execution_count="5">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb6"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> status</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>On branch main

No commits yet

Untracked files:
  (use "git add &lt;file&gt;..." to include in what will be committed)
    file1.txt

nothing added to commit but untracked files present (use "git add" to track)</code></pre>
</div>
</div>
<ul>
<li>hash-object 명령으로 file1.txt 파일에 대한 해시값을 계산</li>
</ul>
<div id="61e34335" class="cell" data-quarto-private-1="{&quot;key&quot;:&quot;vscode&quot;,&quot;value&quot;:{&quot;languageId&quot;:&quot;shellscript&quot;}}" data-execution_count="6">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb8"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> hash-object file1.txt</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>0b11cfca50e35a4865e8505f1a108bd23a3f9401</code></pre>
</div>
</div>
<ul>
<li>-w 옵션이 없어서 실재로 블롭객체 파일을 생성하지 않음</li>
</ul>
<div id="c061f5a2" class="cell" data-quarto-private-1="{&quot;key&quot;:&quot;vscode&quot;,&quot;value&quot;:{&quot;languageId&quot;:&quot;shellscript&quot;}}" data-execution_count="7">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb10"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="ex">tree</span> .git/objects</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>.git/objects
├── info
└── pack

3 directories, 0 files</code></pre>
</div>
</div>
<ul>
<li>-w 옵션을 주면 실재로 블롭객체 파일을 생성함</li>
</ul>
<div id="b707dfcc" class="cell" data-quarto-private-1="{&quot;key&quot;:&quot;vscode&quot;,&quot;value&quot;:{&quot;languageId&quot;:&quot;shellscript&quot;}}" data-execution_count="8">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb12"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> hash-object <span class="at">-w</span> file1.txt</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>0b11cfca50e35a4865e8505f1a108bd23a3f9401</code></pre>
</div>
</div>
<div id="315233f4" class="cell" data-quarto-private-1="{&quot;key&quot;:&quot;vscode&quot;,&quot;value&quot;:{&quot;languageId&quot;:&quot;shellscript&quot;}}" data-execution_count="9">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb14"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="ex">tree</span> .git/objects</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>.git/objects
├── 0b
│&nbsp;&nbsp; └── 11cfca50e35a4865e8505f1a108bd23a3f9401
├── info
└── pack

4 directories, 1 file</code></pre>
</div>
</div>
<ul>
<li>cat-file 명령으로 블롭객체의 내용을 읽을 수 있음</li>
</ul>
<div id="42ba607a" class="cell" data-quarto-private-1="{&quot;key&quot;:&quot;vscode&quot;,&quot;value&quot;:{&quot;languageId&quot;:&quot;shellscript&quot;}}" data-execution_count="10">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb16"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> cat-file <span class="at">-p</span> 0b11cfca50e35a4865e8505f1a108bd23a3f9401</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>file1 line1</code></pre>
</div>
</div>
</section>
<section id="인덱스-파일" class="level2">
<h2 class="anchored" data-anchor-id="인덱스-파일">인덱스 파일</h2>
<ul>
<li>인덱스 파일은 다음과 같은 정보를 저장하고 제공하는 바이너리 파일
<ul>
<li>스테이지와 헤드 커밋에 있는 파일의 메타 정보
<ul>
<li>파일의 블롭 객체에 대한 포인터</li>
<li>해당 파일의 워크트리 파일 버전의 최신 변경 시간 등에 대한 정보</li>
</ul></li>
</ul></li>
<li>add 명령을 실행하면
<ul>
<li>스테이지에 올라간 파일의 블롭 객체를 생성하고</li>
<li>해당 파일에 대한 메타정보를 인덱스 파일에 등록한다.</li>
</ul></li>
</ul>
</section>
<section id="update-index-명령" class="level2">
<h2 class="anchored" data-anchor-id="update-index-명령">update-index 명령</h2>
<ul>
<li>hash-object 명령은 객체를 만들 뿐이지 스테이지에 넣지는 않는다.</li>
<li>스테이지에 객체를 넣는 것은 update-index 명령을 사용한다.</li>
<li>update-index 명령은 파일의 메타정보와 내용을 인덱스 파일에 등록한다.</li>
<li>실행시에 인덱스 파일이 없으면 새로 생성한다.</li>
</ul>
<section id="update-index-명령의-옵션" class="level3">
<h3 class="anchored" data-anchor-id="update-index-명령의-옵션">update-index 명령의 옵션</h3>
<ul>
<li>-add &lt;유형&gt;
<ul>
<li>인덱스 파일에 파일의 블롭객체를 등록</li>
<li>–cacheinfo 옵션이 없으면 블롭객체를 직접 생성함</li>
</ul></li>
<li><code>--cacheinfo</code> &lt;모드&gt; &lt;파일의 블롭객체의 해시값&gt; &lt;파일 경로&gt;
<ul>
<li>이미 생성된 블롭객체가 존재할 경우 직접 인덱스 파일에 직접 등록</li>
</ul></li>
<li><code>--refresh</code>
<ul>
<li>파일 경로 정보를 이용하여 실제 파일에 대해 stat() 시스템 콜을 호출</li>
<li>인덱스 파일의 엔트리 헤더(메타정보)가 stat() 시스템 콜 결과와 다르면 갱신</li>
<li>블롭객체는 건들지 않는다.</li>
</ul></li>
</ul>
</section>
</section>
<section id="실습-3-인덱스-파일-생성" class="level2">
<h2 class="anchored" data-anchor-id="실습-3-인덱스-파일-생성">실습 3: 인덱스 파일 생성</h2>
<ul>
<li>아직 .git/index 파일이 존재하지 않음</li>
</ul>
<div id="4896c14e" class="cell" data-quarto-private-1="{&quot;key&quot;:&quot;vscode&quot;,&quot;value&quot;:{&quot;languageId&quot;:&quot;shellscript&quot;}}" data-execution_count="11">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb18"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ls</span> <span class="at">-al</span> .git</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>total 24
drwxr-xr-x@  9 joelkim  staff  288 Aug 31 20:04 .
drwxr-xr-x@  4 joelkim  staff  128 Aug 31 20:04 ..
-rw-r--r--@  1 joelkim  staff  137 Aug 31 20:04 config
-rw-r--r--@  1 joelkim  staff   73 Aug 31 20:04 description
-rw-r--r--@  1 joelkim  staff   21 Aug 31 20:04 HEAD
drwxr-xr-x@ 16 joelkim  staff  512 Aug 31 20:04 hooks
drwxr-xr-x@  3 joelkim  staff   96 Aug 31 20:04 info
drwxr-xr-x@  5 joelkim  staff  160 Aug 31 20:04 objects
drwxr-xr-x@  4 joelkim  staff  128 Aug 31 20:04 refs</code></pre>
</div>
</div>
<ul>
<li>아까 생성한 블롭 객체를 등록</li>
</ul>
<div id="fa721a35" class="cell" data-quarto-private-1="{&quot;key&quot;:&quot;vscode&quot;,&quot;value&quot;:{&quot;languageId&quot;:&quot;shellscript&quot;}}" data-execution_count="12">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb20"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> update-index <span class="at">--add</span> <span class="at">--cacheinfo</span> 100644 0b11cfca50e35a4865e8505f1a108bd23a3f9401 file1.txt</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<ul>
<li>.git/index 인덱스 파일이 생성됨</li>
</ul>
<div id="b0acabba" class="cell" data-quarto-private-1="{&quot;key&quot;:&quot;vscode&quot;,&quot;value&quot;:{&quot;languageId&quot;:&quot;shellscript&quot;}}" data-execution_count="13">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb21"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ls</span> <span class="at">-al</span> .git</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>total 32
drwxr-xr-x@ 10 joelkim  staff  320 Aug 31 20:04 .
drwxr-xr-x@  4 joelkim  staff  128 Aug 31 20:04 ..
-rw-r--r--@  1 joelkim  staff  137 Aug 31 20:04 config
-rw-r--r--@  1 joelkim  staff   73 Aug 31 20:04 description
-rw-r--r--@  1 joelkim  staff   21 Aug 31 20:04 HEAD
drwxr-xr-x@ 16 joelkim  staff  512 Aug 31 20:04 hooks
-rw-r--r--@  1 joelkim  staff  104 Aug 31 20:04 index
drwxr-xr-x@  3 joelkim  staff   96 Aug 31 20:04 info
drwxr-xr-x@  5 joelkim  staff  160 Aug 31 20:04 objects
drwxr-xr-x@  4 joelkim  staff  128 Aug 31 20:04 refs</code></pre>
</div>
</div>
<ul>
<li>인덱스 파일의 내용</li>
</ul>
<div id="db9351db" class="cell" data-quarto-private-1="{&quot;key&quot;:&quot;vscode&quot;,&quot;value&quot;:{&quot;languageId&quot;:&quot;shellscript&quot;}}" data-execution_count="14">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb23"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="fu">hexdump</span> <span class="at">-C</span> .git/index</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>00000000  44 49 52 43 00 00 00 02  00 00 00 01 00 00 00 00  |DIRC............|
00000010  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  |................|
00000020  00 00 00 00 00 00 81 a4  00 00 00 00 00 00 00 00  |................|
00000030  00 00 00 00 0b 11 cf ca  50 e3 5a 48 65 e8 50 5f  |........P.ZHe.P_|
00000040  1a 10 8b d2 3a 3f 94 01  00 09 66 69 6c 65 31 2e  |....:?....file1.|
00000050  74 78 74 00 35 4c 42 43  60 45 a6 f6 87 b3 31 4e  |txt.5LBC`E....1N|
00000060  84 73 b8 e3 b9 75 79 c3                           |.s...uy.|
00000068</code></pre>
</div>
</div>
<ul>
<li>인덱스 항목 중 워크트리의 메타 정보에 해당하는 헤더 정보가 빠져있음. update-index –refresh 명령으로 갱신</li>
</ul>
<div id="6667af9c" class="cell" data-quarto-private-1="{&quot;key&quot;:&quot;vscode&quot;,&quot;value&quot;:{&quot;languageId&quot;:&quot;shellscript&quot;}}" data-execution_count="15">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb25"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> update-index <span class="at">--refresh</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div id="3ae8c8b9" class="cell" data-quarto-private-1="{&quot;key&quot;:&quot;vscode&quot;,&quot;value&quot;:{&quot;languageId&quot;:&quot;shellscript&quot;}}" data-execution_count="16">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb26"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="fu">hexdump</span> <span class="at">-C</span> .git/index</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>00000000  44 49 52 43 00 00 00 02  00 00 00 01 68 b4 2c 27  |DIRC........h.,'|
00000010  0d 58 cd a0 68 b4 2c 27  0d 58 cd a0 01 00 00 04  |.X..h.,'.X......|
00000020  09 67 9e e3 00 00 81 a4  00 00 01 f6 00 00 00 14  |.g..............|
00000030  00 00 00 0c 0b 11 cf ca  50 e3 5a 48 65 e8 50 5f  |........P.ZHe.P_|
00000040  1a 10 8b d2 3a 3f 94 01  00 09 66 69 6c 65 31 2e  |....:?....file1.|
00000050  74 78 74 00 c5 4d ba 8b  75 2c 2b 78 d6 91 b5 28  |txt..M..u,+x...(|
00000060  60 63 a7 75 7d 52 89 33                           |`c.u}R.3|
00000068</code></pre>
</div>
</div>
</section>
<section id="인덱스-파일의-구조" class="level2">
<h2 class="anchored" data-anchor-id="인덱스-파일의-구조">인덱스 파일의 구조</h2>
<ul>
<li><p>구조</p>
<ul>
<li>인덱스 파일 헤더 (12 바이트)</li>
<li>파일에 대한 인덱스 항목들 (가변)</li>
<li>확장 영역 (가변)
<ul>
<li>트리 항목 (커밋이 존재하는 경우)</li>
</ul></li>
<li>체크섬 (20 바이트)</li>
</ul></li>
<li><p>인덱스 파일 헤더</p>
<ul>
<li>총 12 바이트</li>
<li>4바이트 시그너쳐 (‘D’, ‘I’, ‘R’, ‘C’) (“dircache”를 뜻함)</li>
<li>4바이트 버전숫자 (2~4 중 하나)</li>
<li>32비트 인덱스 엔트리 갯수</li>
</ul></li>
<li><p>헤더 예시</p>
<ul>
<li><p><code>44 49 52 43 00 00 00 02  00 00 00 01</code></p></li>
<li><p>DIRC, 버전 2, 1개 엔트리</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb28"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="ex">00000000</span>  44 49 52 43 00 00 00 02  00 00 00 01 00 00 00 00  <span class="kw">|</span><span class="ex">DIRC............</span><span class="kw">|</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div></li>
</ul></li>
<li><p>인덱스 항목 구성</p>
<ul>
<li>항목 헤더 (파일의 생성일자, 모드, 크기 등 메타정보)</li>
<li>블롭객체 해시값 (파일의 내용)</li>
<li>플래그 + 파일 이름</li>
<li>엔트리 항목 해시값</li>
</ul></li>
<li><p>항목 헤더 (40 바이트)</p>
<ul>
<li>32 비트 ctime 초 (파일 메터메이터가 최종 변경된 시간)</li>
<li>32 비트 ctime 나노초</li>
<li>32 비트 mtime 초 (파일 본문 데이터가 최종 변경된 시간)</li>
<li>32 비트 mtime 나노초</li>
<li>32 비트 dev</li>
<li>32 비트 inode 아이디</li>
<li>32 비트 모드</li>
<li>32 비트 uid</li>
<li>32 비트 gid</li>
<li>32 비트 파일 크기</li>
</ul>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb29"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="ex">00000000</span>  __ __ __ __ __ __ __ __  __ __ __ __ 68 b2 47 74  <span class="kw">|</span>            <span class="ex">h.Gt</span><span class="kw">|</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a><span class="ex">00000010</span>  01 6c 0f fd 68 b2 47 74  01 6c 0f fd 01 00 00 04  <span class="kw">|</span><span class="ex">.l..h.Gt.l......</span><span class="kw">|</span></span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a><span class="ex">00000020</span>  09 65 a3 68 00 00 81 a4  00 00 01 f6 00 00 00 14  <span class="kw">|</span><span class="ex">.e.h............</span><span class="kw">|</span></span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a><span class="ex">00000030</span>  00 00 00 0c __ __ __ __  __ __ __ __ __ __ __ __  <span class="kw">|</span><span class="ex">....</span>            <span class="kw">|</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div></li>
<li><p>객체 해시값</p>
<ul>
<li>0b11cfca50e35a4865e8505f1a108bd23a3f9401</li>
</ul>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb30"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="ex">00000030</span>  __ __ __ __ 0b 11 cf ca  50 e3 5a 48 65 e8 50 5f  <span class="kw">|</span><span class="ex">........P.ZHe.P_</span><span class="kw">|</span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a><span class="ex">00000040</span>  1a 10 8b d2 3a 3f 94 01  __ __ __ __ __ __ __ __  <span class="kw">|</span><span class="ex">....:?.</span>         <span class="kw">|</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div></li>
<li><p>플래그(2 바이트) + 파일 이름(8 바이트 배수로 패딩)</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb31"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="ex">00000040</span>  __ __ __ __ __ __ __ __  00 09 66 69 6c 65 31 2e  <span class="kw">|</span><span class="bu">.</span>       ..file1.<span class="kw">|</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a><span class="ex">00000050</span>  74 78 74 00 __ __ __ __  __ __ __ __ __ __ __ __  <span class="kw">|</span><span class="ex">txt.</span>            <span class="kw">|</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div></li>
<li><p>20 바이트 체크섬</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb32"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="ex">00000050</span>  __ __ __ __ 8c 8e e0 4a  cb ef 63 04 81 44 a6 22  <span class="kw">|</span>    <span class="ex">...J..c..D.</span><span class="st">"|</span></span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a><span class="st">00000060  8f cd 09 a2 39 cb 45 1c                           |....9.E.|</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div></li>
</ul>
<section id="ls-files-명령" class="level3">
<h3 class="anchored" data-anchor-id="ls-files-명령">ls-files 명령</h3>
<ul>
<li>ls-files 명령은 워크트리와 스테이지, 커밋 내부의 파일 목록을 보여주는 명령</li>
<li>워크트리의 파일 목록은 실시간으로 검색하지만</li>
<li>스테이지와 커밋 파일 목록을 찾을 때 내부적으로 인덱스 파일을 사용함</li>
</ul>
</section>
<section id="ls-files-명령의-옵션" class="level3">
<h3 class="anchored" data-anchor-id="ls-files-명령의-옵션">ls-files 명령의 옵션</h3>
<ul>
<li><code>-c</code>
<ul>
<li>인덱스 파일의 항목 출력</li>
<li>즉, 추적 상태인 파일 목록 출력</li>
<li>아무 옵션이 없는 상태와 동일한 결과</li>
</ul></li>
<li><code>--stage</code>, <code>-s</code>
<ul>
<li>스테이지 영역의 파일만 출력</li>
</ul></li>
<li><code>--others</code>, <code>-o</code>
<ul>
<li>비추적 상태의 파일 목록 출력</li>
</ul></li>
<li><code>--ignored</code>, <code>-i</code>
<ul>
<li>무시되고 있는 파일 목록 출력</li>
<li>반드시 <code>-o</code> 옵션과 같이 사용해야 함</li>
</ul></li>
<li><code>--debug</code>
<ul>
<li>메타 정보까지 출력</li>
</ul></li>
</ul>
</section>
</section>
<section id="실습-4-파일-목록-출력" class="level2">
<h2 class="anchored" data-anchor-id="실습-4-파일-목록-출력">실습 4: 파일 목록 출력</h2>
<ul>
<li>아직 추적되지 않는 신규 파일 생성</li>
</ul>
<div id="deed2d9d" class="cell" data-quarto-private-1="{&quot;key&quot;:&quot;vscode&quot;,&quot;value&quot;:{&quot;languageId&quot;:&quot;shellscript&quot;}}" data-execution_count="17">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb33"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mkdir</span> sub</span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a><span class="bu">echo</span> <span class="st">"file2 line1"</span> <span class="op">&gt;</span> sub/file2.txt</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div id="3a2067f8" class="cell" data-quarto-private-1="{&quot;key&quot;:&quot;vscode&quot;,&quot;value&quot;:{&quot;languageId&quot;:&quot;shellscript&quot;}}" data-execution_count="18">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb34"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="ex">tree</span> .</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>.
├── file1.txt
└── sub
    └── file2.txt

2 directories, 2 files</code></pre>
</div>
</div>
<ul>
<li>추적 상태의 파일 (스테이지 + 커밋)</li>
</ul>
<div id="96d3f70f" class="cell" data-quarto-private-1="{&quot;key&quot;:&quot;vscode&quot;,&quot;value&quot;:{&quot;languageId&quot;:&quot;shellscript&quot;}}" data-execution_count="19">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb36"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> ls-files</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>file1.txt</code></pre>
</div>
</div>
<ul>
<li>스테이지 파일</li>
</ul>
<div id="97b35aad" class="cell" data-quarto-private-1="{&quot;key&quot;:&quot;vscode&quot;,&quot;value&quot;:{&quot;languageId&quot;:&quot;shellscript&quot;}}" data-execution_count="20">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb38"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> ls-files <span class="at">-s</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>100644 0b11cfca50e35a4865e8505f1a108bd23a3f9401 0   file1.txt</code></pre>
</div>
</div>
<ul>
<li>메타 정보 포함</li>
</ul>
<div id="0a249277" class="cell" data-quarto-private-1="{&quot;key&quot;:&quot;vscode&quot;,&quot;value&quot;:{&quot;languageId&quot;:&quot;shellscript&quot;}}" data-execution_count="21">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb40"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> ls-files <span class="at">--debug</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>file1.txt
  ctime: 1756638247:223923616
  mtime: 1756638247:223923616
  dev: 16777220 ino: 157785827
  uid: 502  gid: 20
  size: 12  flags: 0</code></pre>
</div>
</div>
<ul>
<li>비추적 상태의 파일</li>
</ul>
<div id="d3aff6f5" class="cell" data-quarto-private-1="{&quot;key&quot;:&quot;vscode&quot;,&quot;value&quot;:{&quot;languageId&quot;:&quot;shellscript&quot;}}" data-execution_count="22">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb42"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> ls-files <span class="at">-o</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>sub/file2.txt</code></pre>
</div>
</div>
</section>
<section id="실습-5-다른-파일을-스테이지에-추가" class="level2">
<h2 class="anchored" data-anchor-id="실습-5-다른-파일을-스테이지에-추가">실습 5: 다른 파일을 스테이지에 추가</h2>
<div id="9e64fa1a" class="cell" data-quarto-private-1="{&quot;key&quot;:&quot;vscode&quot;,&quot;value&quot;:{&quot;languageId&quot;:&quot;shellscript&quot;}}" data-execution_count="23">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb44"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> hash-object <span class="at">-w</span> sub/file2.txt</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>4a8d995103b41f561e547ce3b32e1983d424da22</code></pre>
</div>
</div>
<div id="4b5654c4" class="cell" data-quarto-private-1="{&quot;key&quot;:&quot;vscode&quot;,&quot;value&quot;:{&quot;languageId&quot;:&quot;shellscript&quot;}}" data-execution_count="24">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb46"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="ex">tree</span> .git/objects</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>.git/objects
├── 0b
│&nbsp;&nbsp; └── 11cfca50e35a4865e8505f1a108bd23a3f9401
├── 4a
│&nbsp;&nbsp; └── 8d995103b41f561e547ce3b32e1983d424da22
├── info
└── pack

5 directories, 2 files</code></pre>
</div>
</div>
<div id="53d0fe55" class="cell" data-quarto-private-1="{&quot;key&quot;:&quot;vscode&quot;,&quot;value&quot;:{&quot;languageId&quot;:&quot;shellscript&quot;}}" data-execution_count="25">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb48"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> update-index <span class="at">--add</span> <span class="at">--cacheinfo</span> 100644 4a8d995103b41f561e547ce3b32e1983d424da22 sub/file2.txt</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div id="7d140908" class="cell" data-quarto-private-1="{&quot;key&quot;:&quot;vscode&quot;,&quot;value&quot;:{&quot;languageId&quot;:&quot;shellscript&quot;}}" data-execution_count="26">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb49"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> update-index <span class="at">--refresh</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div id="2616949d" class="cell" data-quarto-private-1="{&quot;key&quot;:&quot;vscode&quot;,&quot;value&quot;:{&quot;languageId&quot;:&quot;shellscript&quot;}}" data-execution_count="27">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb50"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="fu">hexdump</span> <span class="at">-C</span> .git/index</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>00000000  44 49 52 43 00 00 00 02  00 00 00 02 68 b4 2c 27  |DIRC........h.,'|
00000010  0d 58 cd a0 68 b4 2c 27  0d 58 cd a0 01 00 00 04  |.X..h.,'.X......|
00000020  09 67 9e e3 00 00 81 a4  00 00 01 f6 00 00 00 14  |.g..............|
00000030  00 00 00 0c 0b 11 cf ca  50 e3 5a 48 65 e8 50 5f  |........P.ZHe.P_|
00000040  1a 10 8b d2 3a 3f 94 01  00 09 66 69 6c 65 31 2e  |....:?....file1.|
00000050  74 78 74 00 68 b4 2c 28  37 9b 9d 13 68 b4 2c 28  |txt.h.,(7...h.,(|
00000060  37 9b 9d 13 01 00 00 04  09 67 9e ed 00 00 81 a4  |7........g......|
00000070  00 00 01 f6 00 00 00 14  00 00 00 0c 4a 8d 99 51  |............J..Q|
00000080  03 b4 1f 56 1e 54 7c e3  b3 2e 19 83 d4 24 da 22  |...V.T|......$."|
00000090  00 0d 73 75 62 2f 66 69  6c 65 32 2e 74 78 74 00  |..sub/file2.txt.|
000000a0  00 00 00 00 14 5e 1b 92  d8 ca 60 b7 12 85 02 3f  |.....^....`....?|
000000b0  b6 21 7b 7b 1b 42 43 f2                           |.!{{.BC.|
000000b8</code></pre>
</div>
</div>
<div id="13fa9d8c" class="cell" data-quarto-private-1="{&quot;key&quot;:&quot;vscode&quot;,&quot;value&quot;:{&quot;languageId&quot;:&quot;shellscript&quot;}}" data-execution_count="28">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb52"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> ls-files <span class="at">-s</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>100644 0b11cfca50e35a4865e8505f1a108bd23a3f9401 0   file1.txt
100644 4a8d995103b41f561e547ce3b32e1983d424da22 0   sub/file2.txt</code></pre>
</div>
</div>
<div id="5ced9223" class="cell" data-quarto-private-1="{&quot;key&quot;:&quot;vscode&quot;,&quot;value&quot;:{&quot;languageId&quot;:&quot;shellscript&quot;}}" data-execution_count="29">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb54"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> ls-files <span class="at">--debug</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>file1.txt
  ctime: 1756638247:223923616
  mtime: 1756638247:223923616
  dev: 16777220 ino: 157785827
  uid: 502  gid: 20
  size: 12  flags: 0
sub/file2.txt
  ctime: 1756638248:932945171
  mtime: 1756638248:932945171
  dev: 16777220 ino: 157785837
  uid: 502  gid: 20
  size: 12  flags: 0</code></pre>
</div>
</div>
</section>
<section id="write-tree-명령" class="level2">
<h2 class="anchored" data-anchor-id="write-tree-명령">write-tree 명령</h2>
<ul>
<li>write-tree 명령은 인덱스 내의 항목을 기반으로 커밋 등록에 필요한 트리 객체들을 생성하고 인덱스 파일에 추가</li>
<li>생성된 트리 객체 중 루트 트리의 해시값을 출력</li>
</ul>
</section>
<section id="실습-6-트리-객체-생성" class="level2">
<h2 class="anchored" data-anchor-id="실습-6-트리-객체-생성">실습 6: 트리 객체 생성</h2>
<div id="f6c641a9" class="cell" data-quarto-private-1="{&quot;key&quot;:&quot;vscode&quot;,&quot;value&quot;:{&quot;languageId&quot;:&quot;shellscript&quot;}}" data-execution_count="30">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb56"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> write-tree</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>4c2cf5eb3d8af11e9fe5f56cb6c853e1559d7166</code></pre>
</div>
</div>
<ul>
<li>2개의 트리 객체가 만들어진다.</li>
</ul>
<div id="668142a0" class="cell" data-quarto-private-1="{&quot;key&quot;:&quot;vscode&quot;,&quot;value&quot;:{&quot;languageId&quot;:&quot;shellscript&quot;}}" data-execution_count="31">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb58"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a><span class="ex">tree</span> .git/objects</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>.git/objects
├── 0b
│&nbsp;&nbsp; └── 11cfca50e35a4865e8505f1a108bd23a3f9401
├── 4a
│&nbsp;&nbsp; └── 8d995103b41f561e547ce3b32e1983d424da22
├── 4c
│&nbsp;&nbsp; └── 2cf5eb3d8af11e9fe5f56cb6c853e1559d7166
├── dd
│&nbsp;&nbsp; └── 62677237dce0946aeffef97910ffc4ec32c3e7
├── info
└── pack

7 directories, 4 files</code></pre>
</div>
</div>
<ul>
<li>각 트리 객체의 내용은 다음과 같다.</li>
</ul>
<div id="1a278bf0" class="cell" data-quarto-private-1="{&quot;key&quot;:&quot;vscode&quot;,&quot;value&quot;:{&quot;languageId&quot;:&quot;shellscript&quot;}}" data-execution_count="32">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb60"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> cat-file <span class="at">-p</span> 4c2cf5eb3d8af11e9fe5f56cb6c853e1559d7166</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>100644 blob 0b11cfca50e35a4865e8505f1a108bd23a3f9401    file1.txt
040000 tree dd62677237dce0946aeffef97910ffc4ec32c3e7    sub</code></pre>
</div>
</div>
<div id="23db44d2" class="cell" data-quarto-private-1="{&quot;key&quot;:&quot;vscode&quot;,&quot;value&quot;:{&quot;languageId&quot;:&quot;shellscript&quot;}}" data-execution_count="33">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb62"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> cat-file <span class="at">-p</span> dd62677237dce0946aeffef97910ffc4ec32c3e7</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>100644 blob 4a8d995103b41f561e547ce3b32e1983d424da22    file2.txt</code></pre>
</div>
</div>
<ul>
<li>트리 객체의 경우에는 cat-file -p 명령대신 ls-tree 명령 사용 가능</li>
</ul>
<div id="e030a8ae" class="cell" data-quarto-private-1="{&quot;key&quot;:&quot;vscode&quot;,&quot;value&quot;:{&quot;languageId&quot;:&quot;shellscript&quot;}}" data-execution_count="34">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb64"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> ls-tree 4c2cf5eb3d8af11e9fe5f56cb6c853e1559d7166</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>100644 blob 0b11cfca50e35a4865e8505f1a108bd23a3f9401    file1.txt
040000 tree dd62677237dce0946aeffef97910ffc4ec32c3e7    sub</code></pre>
</div>
</div>
<div id="a4959767" class="cell" data-quarto-private-1="{&quot;key&quot;:&quot;vscode&quot;,&quot;value&quot;:{&quot;languageId&quot;:&quot;shellscript&quot;}}" data-execution_count="35">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb66"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> ls-tree dd62677237dce0946aeffef97910ffc4ec32c3e7</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>100644 blob 4a8d995103b41f561e547ce3b32e1983d424da22    file2.txt</code></pre>
</div>
</div>
<ul>
<li>write-tree 명령은 인덱스 파일에도 생성된 트리 객체의 정보를 넣는다</li>
</ul>
<div id="e9450453" class="cell" data-quarto-private-1="{&quot;key&quot;:&quot;vscode&quot;,&quot;value&quot;:{&quot;languageId&quot;:&quot;shellscript&quot;}}" data-execution_count="36">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb68"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a><span class="fu">hexdump</span> <span class="at">-C</span> .git/index</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>00000000  44 49 52 43 00 00 00 02  00 00 00 02 68 b4 2c 27  |DIRC........h.,'|
00000010  0d 58 cd a0 68 b4 2c 27  0d 58 cd a0 01 00 00 04  |.X..h.,'.X......|
00000020  09 67 9e e3 00 00 81 a4  00 00 01 f6 00 00 00 14  |.g..............|
00000030  00 00 00 0c 0b 11 cf ca  50 e3 5a 48 65 e8 50 5f  |........P.ZHe.P_|
00000040  1a 10 8b d2 3a 3f 94 01  00 09 66 69 6c 65 31 2e  |....:?....file1.|
00000050  74 78 74 00 68 b4 2c 28  37 9b 9d 13 68 b4 2c 28  |txt.h.,(7...h.,(|
00000060  37 9b 9d 13 01 00 00 04  09 67 9e ed 00 00 81 a4  |7........g......|
00000070  00 00 01 f6 00 00 00 14  00 00 00 0c 4a 8d 99 51  |............J..Q|
00000080  03 b4 1f 56 1e 54 7c e3  b3 2e 19 83 d4 24 da 22  |...V.T|......$."|
00000090  00 0d 73 75 62 2f 66 69  6c 65 32 2e 74 78 74 00  |..sub/file2.txt.|
000000a0  00 00 00 00 54 52 45 45  00 00 00 35 00 32 20 31  |....TREE...5.2 1|
000000b0  0a 4c 2c f5 eb 3d 8a f1  1e 9f e5 f5 6c b6 c8 53  |.L,..=......l..S|
000000c0  e1 55 9d 71 66 73 75 62  00 31 20 30 0a dd 62 67  |.U.qfsub.1 0..bg|
000000d0  72 37 dc e0 94 6a ef fe  f9 79 10 ff c4 ec 32 c3  |r7...j...y....2.|
000000e0  e7 9e 9e 32 c5 01 92 11  72 dd 94 82 12 6b 43 f0  |...2....r....kC.|
000000f0  65 89 a9 3c 62                                    |e..&lt;b|
000000f5</code></pre>
</div>
</div>
</section>
<section id="status-명령" class="level2">
<h2 class="anchored" data-anchor-id="status-명령">status 명령</h2>
<ul>
<li>status 명령은 실행시 인덱스 파일을 이용하여 다음과 같은 정보를 알아낸다.
<ol type="1">
<li>워크트리의 파일이 추적 상태인지 아닌지 알아낸다.</li>
<li>추적 상태의 파일인 경우 변경되었는지 아닌지 알아낸다.</li>
<li>파일이 워크트리, 스테이지, 커밋 중 어느 영역에 있는지 알아낸다.</li>
</ol></li>
<li>방법은 다음과 같다.
<ul>
<li>추적/비추적 여부
<ul>
<li>인덱스 항목에 없는 파일은 비추적 파일이다.</li>
<li>인덱스 항목에 있는 파일은 스테이지 또는 커밋 영역의 파일이다. 즉, 추적 상태의 파일이다.</li>
</ul></li>
<li>추적 파일의 변경 여부
<ul>
<li>워크트리 파일의 해시값이 인덱스 항목의 블롭 객체 해시값과 같으면 변경되지 않은 파일이다.</li>
<li>워크트리 파일의 해시값이 인덱스 항목의 블롭 객체 해시값과 다르면 변경된 않은 파일이다.</li>
</ul></li>
<li>스테이지/커밋 영역의 구별 여부
<ul>
<li>인덱스 항목의 해시값과 같은 해시값을 가지는 블롭 객체가 커밋에 있으면 커밋 영역의 파일이다.</li>
<li>인덱스 항목의 해시값과 같은 해시값을 가지는 블롭 객체가 커밋에 없으면 스테이지 영역의 파일이다.</li>
</ul></li>
</ul></li>
</ul>
</section>
<section id="실습-7-상태-조회" class="level2">
<h2 class="anchored" data-anchor-id="실습-7-상태-조회">실습 7: 상태 조회</h2>
<div id="bb02bd73" class="cell" data-quarto-private-1="{&quot;key&quot;:&quot;vscode&quot;,&quot;value&quot;:{&quot;languageId&quot;:&quot;shellscript&quot;}}" data-execution_count="37">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb70"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> status</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>On branch main

No commits yet

Changes to be committed:
  (use "git rm --cached &lt;file&gt;..." to unstage)
    new file:   file1.txt
    new file:   sub/file2.txt
</code></pre>
</div>
</div>
</section>
<section id="commit-tree-명령" class="level2">
<h2 class="anchored" data-anchor-id="commit-tree-명령">commit-tree 명령</h2>
<ul>
<li>커밋 객체를 생성</li>
</ul>
</section>
<section id="실습-8-커밋-객체-생성" class="level2">
<h2 class="anchored" data-anchor-id="실습-8-커밋-객체-생성">실습 8: 커밋 객체 생성</h2>
<div id="9501168d" class="cell" data-quarto-private-1="{&quot;key&quot;:&quot;vscode&quot;,&quot;value&quot;:{&quot;languageId&quot;:&quot;shellscript&quot;}}" data-execution_count="38">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb72"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a><span class="va">GIT_AUTHOR_DATE</span><span class="op">=</span><span class="st">"2025-01-01T12:00:00"</span> <span class="dt">\</span></span>
<span id="cb72-2"><a href="#cb72-2" aria-hidden="true" tabindex="-1"></a><span class="va">GIT_COMMITTER_DATE</span><span class="op">=</span><span class="st">"2025-01-01T12:00:00"</span> <span class="dt">\</span></span>
<span id="cb72-3"><a href="#cb72-3" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> commit-tree <span class="at">-m</span> <span class="st">'first commit'</span> 4c2cf5eb3d8af11e9fe5f56cb6c853e1559d7166</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>e42955ccb9b2b73c7e81e251cbab0fdc84aed671</code></pre>
</div>
</div>
<div id="e2e9cdb7" class="cell" data-quarto-private-1="{&quot;key&quot;:&quot;vscode&quot;,&quot;value&quot;:{&quot;languageId&quot;:&quot;shellscript&quot;}}" data-execution_count="39">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb74"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a><span class="ex">tree</span> .git/objects</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>.git/objects
├── 0b
│&nbsp;&nbsp; └── 11cfca50e35a4865e8505f1a108bd23a3f9401
├── 4a
│&nbsp;&nbsp; └── 8d995103b41f561e547ce3b32e1983d424da22
├── 4c
│&nbsp;&nbsp; └── 2cf5eb3d8af11e9fe5f56cb6c853e1559d7166
├── dd
│&nbsp;&nbsp; └── 62677237dce0946aeffef97910ffc4ec32c3e7
├── e4
│&nbsp;&nbsp; └── 2955ccb9b2b73c7e81e251cbab0fdc84aed671
├── info
└── pack

8 directories, 5 files</code></pre>
</div>
</div>
<ul>
<li>커밋 객체는 정상적으로 생성되었음</li>
</ul>
<div id="f29e294f" class="cell" data-quarto-private-1="{&quot;key&quot;:&quot;vscode&quot;,&quot;value&quot;:{&quot;languageId&quot;:&quot;shellscript&quot;}}" data-execution_count="40">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb76"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> cat-file <span class="at">-p</span> e42955ccb9b2b73c7e81e251cbab0fdc84aed671</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>tree 4c2cf5eb3d8af11e9fe5f56cb6c853e1559d7166
author user &lt;user@company.com&gt; 1735700400 +0900
committer user &lt;user@company.com&gt; 1735700400 +0900

first commit</code></pre>
</div>
</div>
<ul>
<li>그러나 git status 명령으로는 아직 커밋된 상태가 아니라고 나옴</li>
</ul>
<div id="fcdb5b78" class="cell" data-quarto-private-1="{&quot;key&quot;:&quot;vscode&quot;,&quot;value&quot;:{&quot;languageId&quot;:&quot;shellscript&quot;}}" data-execution_count="41">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb78"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb78-1"><a href="#cb78-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> status</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>On branch main

No commits yet

Changes to be committed:
  (use "git rm --cached &lt;file&gt;..." to unstage)
    new file:   file1.txt
    new file:   sub/file2.txt
</code></pre>
</div>
</div>
<ul>
<li>로그도 정상 출력되지 않음</li>
</ul>
<div id="73d065e6" class="cell" data-quarto-private-1="{&quot;key&quot;:&quot;vscode&quot;,&quot;value&quot;:{&quot;languageId&quot;:&quot;shellscript&quot;}}" data-execution_count="42">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb80"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb80-1"><a href="#cb80-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> log <span class="kw">||</span> <span class="fu">true</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>fatal: your current branch 'main' does not have any commits yet</code></pre>
</div>
</div>
</section>
<section id="update-ref-명령" class="level2">
<h2 class="anchored" data-anchor-id="update-ref-명령">update-ref 명령</h2>
<ul>
<li>브랜치가 해당 커밋을 가리키지 않으면 커밋이 생성되었다고 인식하지 않음</li>
<li>update-ref 명령으로 브랜치가 해당 커밋을 가리키게 만듬</li>
</ul>
</section>
<section id="실습-9-브랜치-참조-파일-생성" class="level2">
<h2 class="anchored" data-anchor-id="실습-9-브랜치-참조-파일-생성">실습 9: 브랜치 참조 파일 생성</h2>
<ul>
<li>HEAD는 main 브랜치를 가리키고 있음</li>
</ul>
<div id="1ff10cc6" class="cell" data-quarto-private-1="{&quot;key&quot;:&quot;vscode&quot;,&quot;value&quot;:{&quot;languageId&quot;:&quot;shellscript&quot;}}" data-execution_count="43">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb82"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb82-1"><a href="#cb82-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span> .git/HEAD</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>ref: refs/heads/main</code></pre>
</div>
</div>
<ul>
<li>그러나 main 브랜치에 대한 참조 파일이 만들어지지 않았음</li>
</ul>
<div id="819a52b1" class="cell" data-quarto-private-1="{&quot;key&quot;:&quot;vscode&quot;,&quot;value&quot;:{&quot;languageId&quot;:&quot;shellscript&quot;}}" data-execution_count="44">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb84"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb84-1"><a href="#cb84-1" aria-hidden="true" tabindex="-1"></a><span class="ex">tree</span> .git/refs/heads</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>.git/refs/heads

0 directories, 0 files</code></pre>
</div>
</div>
<ul>
<li>update-ref 명령으로 방금 생성한 커밋을 가리키는 main 브랜치 참조 파일 생성</li>
</ul>
<div id="02d769d8" class="cell" data-quarto-private-1="{&quot;key&quot;:&quot;vscode&quot;,&quot;value&quot;:{&quot;languageId&quot;:&quot;shellscript&quot;}}" data-execution_count="45">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb86"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb86-1"><a href="#cb86-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> update-ref refs/heads/main e42955ccb9b2b73c7e81e251cbab0fdc84aed671</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<ul>
<li>참조 파일이 생성되었음</li>
</ul>
<div id="54464c99" class="cell" data-quarto-private-1="{&quot;key&quot;:&quot;vscode&quot;,&quot;value&quot;:{&quot;languageId&quot;:&quot;shellscript&quot;}}" data-execution_count="46">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb87"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb87-1"><a href="#cb87-1" aria-hidden="true" tabindex="-1"></a><span class="ex">tree</span> .git/refs/heads</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>.git/refs/heads
└── main

1 directory, 1 file</code></pre>
</div>
</div>
<ul>
<li>참조 파일은 방금 생성된 커밋 객체를 가리킴</li>
</ul>
<div id="02492446" class="cell" data-quarto-private-1="{&quot;key&quot;:&quot;vscode&quot;,&quot;value&quot;:{&quot;languageId&quot;:&quot;shellscript&quot;}}" data-execution_count="47">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb89"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb89-1"><a href="#cb89-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span> .git/refs/heads/main</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>e42955ccb9b2b73c7e81e251cbab0fdc84aed671</code></pre>
</div>
</div>
<ul>
<li>이제 정상적으로 커밋되었다고 인식함</li>
</ul>
<div id="2b479753" class="cell" data-quarto-private-1="{&quot;key&quot;:&quot;vscode&quot;,&quot;value&quot;:{&quot;languageId&quot;:&quot;shellscript&quot;}}" data-execution_count="48">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb91"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb91-1"><a href="#cb91-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> status</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>On branch main
nothing to commit, working tree clean</code></pre>
</div>
</div>
<ul>
<li>로그도 정상적으로 출력</li>
</ul>
<div id="9d8abd04" class="cell" data-quarto-private-1="{&quot;key&quot;:&quot;vscode&quot;,&quot;value&quot;:{&quot;languageId&quot;:&quot;shellscript&quot;}}" data-execution_count="49">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb93"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb93-1"><a href="#cb93-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> log</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>commit e42955ccb9b2b73c7e81e251cbab0fdc84aed671 (HEAD -&gt; main)
Author: user &lt;user@company.com&gt;
Date:   Wed Jan 1 12:00:00 2025 +0900

    first commit</code></pre>
</div>
</div>
</section>
<section id="실습-10-add-commit-명령-사용" class="level2">
<h2 class="anchored" data-anchor-id="실습-10-add-commit-명령-사용">실습 10: add, commit 명령 사용</h2>
<ul>
<li><p>지금까지 한 작업을 add, commit 명령으로 해본다.</p></li>
<li><p>저장소 리셋</p></li>
</ul>
<div id="f4dfeea9" class="cell" data-quarto-private-1="{&quot;key&quot;:&quot;vscode&quot;,&quot;value&quot;:{&quot;languageId&quot;:&quot;shellscript&quot;}}" data-execution_count="50">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb95"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb95-1"><a href="#cb95-1" aria-hidden="true" tabindex="-1"></a><span class="bu">cd</span> <span class="va">$HOME</span>/lab</span>
<span id="cb95-2"><a href="#cb95-2" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span> <span class="at">-rf</span> test_internal_02</span>
<span id="cb95-3"><a href="#cb95-3" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> init test_internal_02</span>
<span id="cb95-4"><a href="#cb95-4" aria-hidden="true" tabindex="-1"></a><span class="bu">cd</span> test_internal_02</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<p>Initialized empty Git repository in ~/lab/test_internal_02/.git/</p>
</div>
</div>
<div id="3772419b" class="cell" data-quarto-private-1="{&quot;key&quot;:&quot;vscode&quot;,&quot;value&quot;:{&quot;languageId&quot;:&quot;shellscript&quot;}}" data-execution_count="51">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb96"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb96-1"><a href="#cb96-1" aria-hidden="true" tabindex="-1"></a><span class="bu">echo</span> <span class="st">"file1 line1"</span> <span class="op">&gt;</span> file1.txt</span>
<span id="cb96-2"><a href="#cb96-2" aria-hidden="true" tabindex="-1"></a><span class="fu">mkdir</span> sub</span>
<span id="cb96-3"><a href="#cb96-3" aria-hidden="true" tabindex="-1"></a><span class="bu">echo</span> <span class="st">"file2 line1"</span> <span class="op">&gt;</span> sub/file2.txt</span>
<span id="cb96-4"><a href="#cb96-4" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> add .</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div id="c02f692a" class="cell" data-quarto-private-1="{&quot;key&quot;:&quot;vscode&quot;,&quot;value&quot;:{&quot;languageId&quot;:&quot;shellscript&quot;}}" data-execution_count="52">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb97"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb97-1"><a href="#cb97-1" aria-hidden="true" tabindex="-1"></a><span class="fu">hexdump</span> <span class="at">-C</span> .git/index</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>00000000  44 49 52 43 00 00 00 02  00 00 00 02 68 b4 2c 2d  |DIRC........h.,-|
00000010  24 1a 62 1d 68 b4 2c 2d  24 1a 62 1d 01 00 00 04  |$.b.h.,-$.b.....|
00000020  09 67 9f 31 00 00 81 a4  00 00 01 f6 00 00 00 14  |.g.1............|
00000030  00 00 00 0c 0b 11 cf ca  50 e3 5a 48 65 e8 50 5f  |........P.ZHe.P_|
00000040  1a 10 8b d2 3a 3f 94 01  00 09 66 69 6c 65 31 2e  |....:?....file1.|
00000050  74 78 74 00 68 b4 2c 2d  2a b1 1f 02 68 b4 2c 2d  |txt.h.,-*...h.,-|
00000060  2a b1 1f 02 01 00 00 04  09 67 9f 33 00 00 81 a4  |*........g.3....|
00000070  00 00 01 f6 00 00 00 14  00 00 00 0c 4a 8d 99 51  |............J..Q|
00000080  03 b4 1f 56 1e 54 7c e3  b3 2e 19 83 d4 24 da 22  |...V.T|......$."|
00000090  00 0d 73 75 62 2f 66 69  6c 65 32 2e 74 78 74 00  |..sub/file2.txt.|
000000a0  00 00 00 00 f6 72 a6 22  d9 36 43 3c 2d a0 ad 16  |.....r.".6C&lt;-...|
000000b0  10 37 f6 5e 9f 5b f1 93                           |.7.^.[..|
000000b8</code></pre>
</div>
</div>
<div id="93b941f9" class="cell" data-quarto-private-1="{&quot;key&quot;:&quot;vscode&quot;,&quot;value&quot;:{&quot;languageId&quot;:&quot;shellscript&quot;}}" data-execution_count="53">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb99"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb99-1"><a href="#cb99-1" aria-hidden="true" tabindex="-1"></a><span class="ex">tree</span> .git/objects</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>.git/objects
├── 0b
│&nbsp;&nbsp; └── 11cfca50e35a4865e8505f1a108bd23a3f9401
├── 4a
│&nbsp;&nbsp; └── 8d995103b41f561e547ce3b32e1983d424da22
├── info
└── pack

5 directories, 2 files</code></pre>
</div>
</div>
<div id="4ebf264e" class="cell" data-quarto-private-1="{&quot;key&quot;:&quot;vscode&quot;,&quot;value&quot;:{&quot;languageId&quot;:&quot;shellscript&quot;}}" data-execution_count="54">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb101"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb101-1"><a href="#cb101-1" aria-hidden="true" tabindex="-1"></a><span class="va">GIT_AUTHOR_DATE</span><span class="op">=</span><span class="st">"2025-01-01T12:00:00"</span> <span class="dt">\</span></span>
<span id="cb101-2"><a href="#cb101-2" aria-hidden="true" tabindex="-1"></a><span class="va">GIT_COMMITTER_DATE</span><span class="op">=</span><span class="st">"2025-01-01T12:00:00"</span> <span class="dt">\</span></span>
<span id="cb101-3"><a href="#cb101-3" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> commit <span class="at">-m</span> <span class="st">'first commit'</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[main (root-commit) e42955c] first commit
 2 files changed, 2 insertions(+)
 create mode 100644 file1.txt
 create mode 100644 sub/file2.txt</code></pre>
</div>
</div>
<div id="df9ba234" class="cell" data-quarto-private-1="{&quot;key&quot;:&quot;vscode&quot;,&quot;value&quot;:{&quot;languageId&quot;:&quot;shellscript&quot;}}" data-execution_count="55">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb103"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb103-1"><a href="#cb103-1" aria-hidden="true" tabindex="-1"></a><span class="fu">hexdump</span> <span class="at">-C</span> .git/index</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>00000000  44 49 52 43 00 00 00 02  00 00 00 02 68 b4 2c 2d  |DIRC........h.,-|
00000010  24 1a 62 1d 68 b4 2c 2d  24 1a 62 1d 01 00 00 04  |$.b.h.,-$.b.....|
00000020  09 67 9f 31 00 00 81 a4  00 00 01 f6 00 00 00 14  |.g.1............|
00000030  00 00 00 0c 0b 11 cf ca  50 e3 5a 48 65 e8 50 5f  |........P.ZHe.P_|
00000040  1a 10 8b d2 3a 3f 94 01  00 09 66 69 6c 65 31 2e  |....:?....file1.|
00000050  74 78 74 00 68 b4 2c 2d  2a b1 1f 02 68 b4 2c 2d  |txt.h.,-*...h.,-|
00000060  2a b1 1f 02 01 00 00 04  09 67 9f 33 00 00 81 a4  |*........g.3....|
00000070  00 00 01 f6 00 00 00 14  00 00 00 0c 4a 8d 99 51  |............J..Q|
00000080  03 b4 1f 56 1e 54 7c e3  b3 2e 19 83 d4 24 da 22  |...V.T|......$."|
00000090  00 0d 73 75 62 2f 66 69  6c 65 32 2e 74 78 74 00  |..sub/file2.txt.|
000000a0  00 00 00 00 54 52 45 45  00 00 00 35 00 32 20 31  |....TREE...5.2 1|
000000b0  0a 4c 2c f5 eb 3d 8a f1  1e 9f e5 f5 6c b6 c8 53  |.L,..=......l..S|
000000c0  e1 55 9d 71 66 73 75 62  00 31 20 30 0a dd 62 67  |.U.qfsub.1 0..bg|
000000d0  72 37 dc e0 94 6a ef fe  f9 79 10 ff c4 ec 32 c3  |r7...j...y....2.|
000000e0  e7 2e 4a cd 6a f7 7d a2  4a 7b 29 b3 94 91 db e8  |..J.j.}.J{).....|
000000f0  15 0f c1 2c 62                                    |...,b|
000000f5</code></pre>
</div>
</div>
<div id="3ef37c68" class="cell" data-quarto-private-1="{&quot;key&quot;:&quot;vscode&quot;,&quot;value&quot;:{&quot;languageId&quot;:&quot;shellscript&quot;}}" data-execution_count="56">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb105"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb105-1"><a href="#cb105-1" aria-hidden="true" tabindex="-1"></a><span class="ex">tree</span> .git/objects</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>.git/objects
├── 0b
│&nbsp;&nbsp; └── 11cfca50e35a4865e8505f1a108bd23a3f9401
├── 4a
│&nbsp;&nbsp; └── 8d995103b41f561e547ce3b32e1983d424da22
├── 4c
│&nbsp;&nbsp; └── 2cf5eb3d8af11e9fe5f56cb6c853e1559d7166
├── dd
│&nbsp;&nbsp; └── 62677237dce0946aeffef97910ffc4ec32c3e7
├── e4
│&nbsp;&nbsp; └── 2955ccb9b2b73c7e81e251cbab0fdc84aed671
├── info
└── pack

8 directories, 5 files</code></pre>
</div>
</div>
</section>
<section id="인덱스-락-파일" class="level2">
<h2 class="anchored" data-anchor-id="인덱스-락-파일">인덱스 락 파일</h2>
<ul>
<li>인덱스 파일에 두 개 이상의 프로세스가 동시에 쓰기를 허용하면 누락 정보가 발생할 수 있음</li>
<li>따라서 인덱스 파일에 대한 쓰기 작업은 한 번에 하나의 프로세스만 가능</li>
<li>먼저 쓰기를 시도하는 프로세스가 인덱스 파일을 복사한 <code>index.lock</code>이라는 인덱스 락 파일을 생성</li>
<li>만약 인덱스 락 파일이 존재하면 다른 프로세스는 인덱스 쓰기 실패함</li>
<li>쓰기 권한을 가진 프로세스는 인덱스 파일 자체 대신 인덱스 락 파일에 쓰기 시도</li>
<li>쓰기가 완료되면 <code>index.lock</code> 파일의 이름을 <code>index</code>로 바꿔서 한번에 파일 교체</li>
</ul>
<div id="8e64c74d" class="cell" data-quarto-private-1="{&quot;key&quot;:&quot;vscode&quot;,&quot;value&quot;:{&quot;languageId&quot;:&quot;shellscript&quot;}}" data-execution_count="57">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb107"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb107-1"><a href="#cb107-1" aria-hidden="true" tabindex="-1"></a><span class="fu">touch</span> .git/index.lock</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div id="d857b26a" class="cell" data-quarto-private-1="{&quot;key&quot;:&quot;vscode&quot;,&quot;value&quot;:{&quot;languageId&quot;:&quot;shellscript&quot;}}" data-execution_count="60">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb108"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb108-1"><a href="#cb108-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> add file1.txt <span class="kw">||</span> <span class="fu">true</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>fatal: Unable to create '/Users/joelkim/Work/personal/book_git/lab/test_internal_02/.git/index.lock': File exists.

Another git process seems to be running in this repository, e.g.
an editor opened by 'git commit'. Please make sure all processes
are terminated then try again. If it still fails, a git process
may have crashed in this repository earlier:
remove the file manually to continue.</code></pre>
</div>
</div>
<div id="49de6071" class="cell" data-quarto-private-1="{&quot;key&quot;:&quot;vscode&quot;,&quot;value&quot;:{&quot;languageId&quot;:&quot;shellscript&quot;}}" data-execution_count="61">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb110"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb110-1"><a href="#cb110-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> status</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>On branch main
nothing to commit, working tree clean</code></pre>
</div>
</div>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("https:\/\/gitbook\.madebykim\.kr\/");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>